# Распространённые проблемы с окружением

## Не получается сдать задачу

Если у вас завершается с ошибкой скрипт отправки решения `submit.py`, первое, что нужно сделать - это запустить его с опцией `-v` (verbose), которая даст подробный вывод и позволит выяснить источник проблемы: `python3 ../../../submit.py -v`.

## `ssh: connect to host gitlab.cpp-hse.net port 2224: Connection refused`

Скорее всего, вы находитесь в необычной сети, например, в сети ВШЭ, в которой не разрешены соединения к некоторым портам. Попробуйте сменить сеть.

## `git@gitlab.cpp-hse.net: Permission denied (publickey)` при попытке сдать задачу

Это означает, что публичный SSH-ключ либо не прописан на Gitlab, либо прописан с ошибкой. Посмотреть список зарегистрированных SSH ключей можно в настройках на gitlab.cpp-hse.net (`Preferences` -> `SSH Keys` -> `Your SSH keys`). Там же можно добавить новый ключ.

Если вы работаете с репозиторием на виртуальной машине, то генерировать SSH-ключ нужно также на ней.

Если вы уверены, что добавили правильный ключ, но ошибка не уходит, то можно сравнить SHA256 хэши ключа на Gitlab (указан на странице ключа в настройках) с тем, что используется при аутентификации (можно найти в выводе `ssh -v git@gitlab.cpp-hse.net` в строчке вида `Will attempt key...`).

## `fatal: No such remote 'student'` при попытке сдать задачу

Выполните `git remote -v`. Вывод должен выглядеть так:

```
origin  https://gitlab.com/hse-cpp/cpp-advanced-hse (fetch)
origin  https://gitlab.com/hse-cpp/cpp-advanced-hse (push)
student ssh://git@gitlab.cpp-hse.net:2224/hse-advanced-cpp/2024/hse-Name-Surname-Login.git (fetch)
student ssh://git@gitlab.cpp-hse.net:2224/hse-advanced-cpp/2024/hse-Name-Surname-Logingit (push)
```

Важно, что у `student` должен быть указан именно SSH URL (начинается с `git@gitlab.cpp-hse.net`). Если у вас что-то не так, то пересоздайте remote:
```
git remote remove student
git remote add student ssh://git@gitlab.cpp-hse.net:2224/hse-advanced-cpp/2024/hse-Name-Surname-Login.git
```

## Проблемы в CLion IDE

Симптомы:
* не работает навигация по коду, появились странные ошибки
* неактивны кнопки `Build` / `Run`
* не получается выбрать таргет для сборки
* не работают подсказки в коде
* нет вкладки CMake на нижней панели

Что стоит сделать:

0. Если раньше все работало:
    * Перезагрузите CMake-проект (кнопка слева вверху на вкладке CMake внизу)
    * Если не помогло, перезагрузите CMake-проект со сбросом кэша (кнопка слева внизу на той же вкладке -> `Reset Cache and Reload Project`)
1. Проверьте, что CLion открыт в `cpp-advanced-hse`, а не в какой-то его поддиректории
2. Проверьте, что установлена свежая версия CLion
3. Если проблема остается, удалите директорию `.idea` в репозитории и перезагрузите IDE. Это сотрет настройки рабочей области, такие как сборочные конфигурации - их нужно будет пересоздать.
